<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html leng="ru">
	<head>
		<title>Работа со Starling.</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/default.css">
		<link rel="stylesheet" href="css/nav.css">
		<link rel="stylesheet" href="css/header.css">
		<link rel="stylesheet" href="css/section.css">
		<link rel="stylesheet" href="css/aside.css">
		<link rel="stylesheet" href="css/footer.css">
		<link rel="stylesheet" href="css/font.css">
		<link rel="stylesheet" href="css/blocks.css">
	</head>
	<body>
		<div id="wrapper">
			<div id="nav">
				<div id="logo"></div>
				<div>
					<ul>
						<li><a href="http://somov.inf.ua">Блог разработчика</a></li>
						<li><a href="http://catfish.ltd.ua">Программное обеспечение</a></li>
						<li><a href="http://cf.ltd.ua">Студия игр</a></li>
					</ul>
				</div>
		
			</div>

			<div id="header">
				<div id="display"></div>
				<dir id="titleBlog">DEVELOPER: SOMOV EVGENIY</dir>
			</div>

			<div id="section">

				<div id="aside">
					<div class="BLOCK4">Оглавление:</div>
					<div class="BLOCK5"><a href="#block1">Пакеты и классы Starling</a></div>
					<div class="BLOCK5"><a href="#block2">Подключение Starling к FlashDevelop</a></div>
					<div class="BLOCK5"><a href="#block3">Первый проект. Проверка Srarling</a></div>
					<div class="BLOCK5"><a href="#block4">Использование текстур</a></div>
					<div class="BLOCK5"><a href="#block5">Кнопка с текстурой и текстом</a></div>
					<div class="BLOCK5"><a href="#block6">Атлас - использование текстур</a></div>
					<div class="BLOCK5"><a href="#block7">Атлас - использование MovieClip</a></div>
					<div class="BLOCK5"><a href="#block8">Навигация - испоьзование событий</a></div>
					<div class="BLOCK5"><a href="#block9">Загрузка ресурсов Loader</a></div>
					<div class="BLOCK5"><a href="#block10">Загрузка и чтение XML файлов</a></div>
					<div class="BLOCK5"><a href="#block11">Настройка контента</a></div>
					<div class="BLOCK5"><a href="#block1"></a></div>
					<div class="BLOCK5"><a href="#block1"></a></div>
					<div class="BLOCK5"><a href="#block1"></a></div>
					<div class="BLOCK5"><a href="#block1"></a></div>
					<div class="BLOCK5"><a href="#block1"></a></div>
					<div class="BLOCK5"><a href="#block1"></a></div>
					<div class="BLOCK5"><a href="#block1"></a></div>
					<br>
					<br>
					<div class="BLOCK4">Справочники:</div>
					<div class="BLOCK5"><a href="cpp.html" target="_self">Язык программирования С++</a></div>
					<div class="BLOCK5"><a href="cs.html" target="_self">Язык программирования С#</a></div>
					<div class="BLOCK5"><a href="as3.html" target="_self">Язык программирования AS3</a></div>
					<div class="BLOCK5"><a href="php.html" target="_self">Язык программирования PHP</a></div>
					<div class="BLOCK5"><a href="js.html" target="_self">Язык программирования JS</a></div>
					<div class="BLOCK5"><a href="j.html" target="_self">Язык программирования Java</a></div>
					<div class="BLOCK5"><a href="asm.html" target="_self">Язык программирования ASM</a></div>
					<br>
					<div class="BLOCK4">Программный код:</div>
					<div class="BLOCK5"><a href="flash.html" target="_self">Flash разработка</a></div>
					<div class="BLOCK5"><a href="unity3d.html" target="_self">Unity3D разработка</a></div>
					<div class="BLOCK5"><a href="net.html" target="_self">Net.Framework разработка</a></div>
					<br>
					<div class="BLOCK4">Средства разработки:</div>
					<div class="BLOCK5"><a href="http://www.flashdevelop.org/" target="_blank">Flash Develop</a></div>
					<div class="BLOCK5"><a href="http://www.icsharpcode.net/opensource/sd/" target="_blank">Sharp Develop</a></div>
					<br>
					<div class="BLOCK4">Графические движки:</div>
					<div class="BLOCK5"><a href="http://unity3d.com/ru" target="_blank">Графический движок Unity3D</a></div>
					<div class="BLOCK5"><a href="http://www.pixijs.com/" target="_blank">Графический движок Pixi.js</a></div>
					<div class="BLOCK5"><a href="http://www.greensock.com/tweenlite/" target="_blank">Графический движок TweenLite</a></div>
					<div class="BLOCK5"><a href="http://gamua.com/starling/" target="_blank">Графический движок Starling</a></div>
					<br>
					<div class="BLOCK4">Сторонние публикации:</div>
					<div class="BLOCK5"><a href="http://habrahabr.ru/post/47411/" target="_blank">Работа с классом TweenLite</a></div>
					<div class="BLOCK5"><a href="http://gcmob.ru/load/engine/online/6" target="_blank">Движки на HTML5 и Flash</a></div>
					<div class="BLOCK5"><a href="http://habrahabr.ru/post/174603/" target="_blank">Pixi.js — 2D движок с поддержкой WebGL</a></div>
					<div class="BLOCK5"><a href="http://automated-testing.info/t/avtomatizacziya-testirovaniya-vo-flash-igrax/3027" target="_blank">Автоматизация тестирования во flash-играх</a></div>
					<br>
					<div class="BLOCK4">Личные данные:</div>
					<div class="BLOCK5"><a href="development.html" target="_self">Мои разработки.</a></div>
					<div class="BLOCK5"><a href="gamedev.html" target="_self">Game Develop.</a></div>
					<div class="BLOCK5"><a href="somov.html" target="_self">О себе.</a></div>
					<br>
				</div>

				<div class="BLOCK3" id="block0">Starling: Книга</div>
				<div class="BLOCK3_2"><b>Книга: Introducing starling</b>
					<br><a href="doc/introducing_starling.pdf" target="_blank">introducing_starling.pdf</a>
					<br>
					<br><b>Книга: Starling Game Development Essentials</b>
					<br><a href="doc/Juwal Bose - Starling Game Development Essentials - 2013.pdf" target="_blank">Juwal Bose - Starling Game Development Essentials - 2013.pdf</a>
					<br>
					<br><b>Книга: Пакеты и классы Starling</b>
					<br><a href="http://doc.starling-framework.org/core/" target="_blank">http://doc.starling-framework.org/core/</a>
					<br>
					<br>Скрипт <b>Stats</b> показывает статистику в левом верхнем углу. <a href="https://code.google.com/p/mrdoob/source/browse/trunk/libs/net/hires/debug/Stats.as?r=125" target="_blank">Автор</a> можно <a href="starling/Stats.as">скачать</a> готовый скрипт.
				</div>
				<br>
				<div class="BLOCK3" id="block1">Starling: Пакеты и классы</div>
				<div class="BLOCK3_2">Пакеты:
					<br><b>starling.animation</b> - компоненты анимации.
					<br><b>starling.core</b> - содержит основные классы ядра и службы визуализации.
					<br><b>starling.display</b> - основные классы из которых отображается всё на экране.
					<br><b>starling.errors</b> - набор наиболее используемых классов ошибок.
					<br><b>starling.events</b> - упрощенная версия модели Флэша DOM событий, в том числе альтернативной EventDispatcher базового класса.
					<br><b>starling.filters</b> - процесс обработки фильтров для спецэффектов.
					<br><b>starling.text</b> - классы для работы с текстовыми полями и растровыми шрифтами.
					<br><b>starling.textures</b> - классы для создания и работы с данными текстур GPU.
					<br><b>starling.utils</b> - утилиты, вспомогательные классы.
					<br>
					<br>Классы: пакета <u>starling.animation</u>
					<br><b>DelayedCall</b> - позволяет выполнить метод после того как прошло определенное время
					<br><b>Juggler</b> - принимает объекты реализованные IAnimatable (как Tweens) и выполняет их.
					<br><b>Transitions</b> - класс содержит статические матоды замедления.
					<br><b>Tween</b> - анимирует объекты.
					<br>
					<br>Классы: пакета <u>starling.core</u>
					<br><b>RenderSupport</b> - содержит методы урощающие Stage3D визуализацию.
					<br><b>Starling</b> - представляет ядро старлинга.
					<br>
					<br>Классы: пакета <u>starling.display</u>
					<br><b>BlendMode</b> - содержит значение констант визуальных эффектов.
					<br><b>Button</b> - простоя кнопка, состоит из изображения и текста.
					<br><b>DisplayObject</b> - базовый класс для всех объектов которые отображаются на экране.
					<br><b>DisplayObjectContainer</b> - представляет коллекцию экранных объектов.
					<br><b>Image</b> - это quad изображение с текстурой на нем.
					<br><b>MovieClip</b> - простой способ отображения анимации, изображение представлено в виде списка текстур.
					<br><b>Quad</b> - представляет собой прямоугольник, однородного цыета или цветового градиента.
					<br><b>QuadBatch</b> - оптимизация ряда quad с идентичными state 
					<br><b>Sprite</b> - наиболее легкий не абстрактный класс контейнера.
					<br><b>Stage</b> - представляет корень дерева display
					<br>
					<br>Классы: пакета <u>starling.errors</u>
					<br><b>AbstractClassError</b> - происходит при попытке создать экземпляр абстрактного класса.
					<br><b>AbstractMethodError</b> - происходит при попытке вызвать абстрактный метод.
					<br><b>MissingContextError</b> - происходит когда обхект Context3D запрашивается, но он недоступен.
					<br>
					<br>Классы: пакета <u>starling.events</u>
					<br><b>EnterFrameEvent</b> - срабатывает один раз за кадр ко всем объектам дерева на display. 
					<br><b>Event</b> - события.
					<br><b>EventDispatcher</b> - базовый класс для всех классов передающих события.
					<br><b>KeyboardEvent</b> - событие, ввод с клавиатуры.
					<br><b>ResizeEvent</b> - событие при изменении размера флесш контейнера.
					<br><b>Touch</b> - Сенсорный объект содержит информацию о наличии или движением пальца или мыши на экране.
					<br><b>TouchEvent</b> - событие мыши либо нажатие пальцем.
					<br><b>TouchPhase</b> - содержит значения констант для фаз сенсорного объекта.
					<br><b>TouchProcessor</b> - используется для преобразования событий мыши или сенсора обычной стадии Flash для Starling TouchEvents
					<br>
					<br>Классы: пакета <u>starling.filters</u>
					<br><b>BlurFilter</b> - применяет фильтр Гаусс к объекту.
					<br><b>ColorMatrixFilter</b> - позволяет применить матричное преобразование 4х5 от цвета RGBA и альфа-канала каждого пиксела в исходном изображении для получения результата с новым набором цвета RGBA и альфа-канала. 
					<br><b>DisplacementMapFilter</b> - использует значения пикселов из указанного текстуры (так называемого смещения) для искривления замещения объекта.
					<br><b>FragmentFilter</b> - является базовым классом для всех фильтров эффектов.
					<br><b>FragmentFilterMode</b> - содержит значения констант режимов фильтрации.
					<br>
					<br>Классы: пакета <u>starling.text</u>
					<br><b>BitmapChar</b> - информация об одном символе растрового шрифта.
					<br><b>BitmapFont</b> - анализирует файлы растровых шрифтов и организует символы текста.
					<br><b>TextField</b> - оттображает текст.
					<br><b>TextFieldAutoSize</b> - перечисление значений констант,  с помощью которых задается свойство AutoSize.
					<br>
					<br>Классы: пакета <u>starling.textures</u>
					<br><b>AtfData</b> - анализатор ATF формата.
					<br><b>ConcreteTexture</b> - обеспечивает текстурой Stage3D объект, и хранение свойств текстуры.
					<br><b>RenderTexture</b> - динамическая текстура, на которой можно нарисовать любой экранный объект.
					<br><b>SubTexture</b> - представляет собой сечение другой текстурой.
					<br><b>Texture</b> - текстура представляющая собой изображение.
					<br><b>TextureAtlas</b> - атлас представляет собой сборник нескольких небольших текстур в одном большом изображении.
					<br><b>TextureOptions</b> - определяет параметры для загрузки текстуры методом Texture.fromData
					<br><b>TextureSmoothing</b> - содержит значения констант для возможных алгоритмов сглаживания текстуры.
					<br>
					<br>Функции: пакета <u>starling.utils</u>
					<br><b>deg2rad</b> - преобразует угол от градусов в радианах.
					<br><b>execute</b> - выполняет функцию с указанными аргументами.
					<br><b>formatString</b> - формат String в стиле .Net-style, с фигурными скобками ("{0}").
					<br><b>getNextPowerOfTwo</b> - Возвращает следующий степень двойки, которая равна или больше, чем указанное число.
					<br><b>rad2deg</b> - Преобразует угол от радианах в градусах.
					<br><b>transformCoords</b> - Использует матрицу для преобразования 2D координат в другом пространстве.
					<br>
					<br>Классы: пакета <u>starling.utils</u>
					<br><b>AssetManager</b> - обрабатывает загрузку и доступ различных типов активов.
					<br><b>Color</b> - содержащий предопределенные цвета и методы конвертирования между различными цветовыми представлений.
					<br><b>HAlign</b> - содержит значения констант для горизонтального выравнивания объектов.
					<br><b>MatrixUtil</b> - содержащий методы, связанные с классом Matrix.
					<br><b>RectangleUtil</b> - содержащий методы, связанные с классом Rectangle.
					<br><b>ScaleMode</b> - который содержит значения констант для метода «RectangleUtil.fit".
					<br><b>SystemUtil</b> - Утилита класс с методами, связанных с текущей платформы и выполнения.
					<br><b>VAlign</b> - содержит значения констант для вертикального выравнивания объектов.
					<br><b>VertexData</b> - управляет сырой перечень информации вершины, позволяя прямой загрузки на Stage3D буферов вершин.
				</div>
				<br>
				<div class="BLOCK3" id="block2">Starling: Подключение к FlashDevelop</div>
				<div class="BLOCK3_2"><b>Инструкция:</b>
					<br>1. Скачать Starling архив Gamua-Starling-Framework-v1.5.1-0-gdef24cc.zip
					<br>2. Создать в Flash Develop новый проект AS3 Project
					<br>3. Скопировать файл <u>starling.swc</u> из архива старлинга ..\Gamua-Starling-Framework-def24cc\starling\bin в папку проекта ..\lib\
					<br>добавить этот файл к проекту Add To Library
					<br>4. Скопировать папки <u>com</u> и <u>starling</u> из архива старлинга ..\starling\src\ 
					<br>в папку проекта ..\src\имяПроекта\
					<br><u>Примичание</u>: при компиляции может возниктунь ошибка 1014 про Stage3D в этом случае нужно выбрать новую версию Flash Player для компиляции, для этого:
					<br>в меню Project -> Properties... на закладке Output выбрать более новую версию.
				</div>
			</div>

			<br>
			<div class="BLOCK3" id="block3">Starling: Первый проект.</div>
			<div class="BLOCK3_2"><b>Первый простой пример работы Старлинга проект FirstSteps.</b>&nbsp;&nbsp;&nbsp;<a href="starling/FirstSteps.zip">скачать</a>
				<br>Скрипт <b>Stats</b> показывает статистику в левом верхнем углу. <a href="https://code.google.com/p/mrdoob/source/browse/trunk/libs/net/hires/debug/Stats.as?r=125" target="_blank">Автор</a> можно <a href="starling/Stats.as">скачать</a> готовый скрипт.
				<br>
				<br>Папки проекта должны иметь следующий вид:
				<br>&nbsp;&nbsp;&nbsp;[bin]
				<br>&nbsp;&nbsp;&nbsp;[images]
				<br>&nbsp;&nbsp;&nbsp;[lib]
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;starling.swc (файл из архива Старлинга ..\Gamua-Starling-Framework-def24cc\starling\bin\ )
				<br>&nbsp;&nbsp;&nbsp;[src]
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[FirstSteps]
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[com] (папка из архива Старлинга ..\Gamua-Starling-Framework-def24cc\starling\src\ )
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[starling] (папка из архива Старлинга ..\Gamua-Starling-Framework-def24cc\starling\src\ )
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Game.as
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Main.as
				<br>
				<br><b>Исходный код файла Game.as</b>
				<br>&nbsp;&nbsp;&nbsp;package FirstSteps 
				<br>&nbsp;&nbsp;&nbsp;{	
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.display.Sprite;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.text.TextField;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public class Game extends Sprite // это спрайт Старлинга
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public function Game() 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var textField:TextField = new TextField(400, 300, "Welcom to Starling!");
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.addChild(textField);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
				<br><b>Исходный код файла Main.as</b>
				<br>&nbsp;&nbsp;&nbsp;package FirstSteps
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import flash.display.Sprite;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import flash.events.Event;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.core.Starling;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[SWF(width="400", height="300", frameRate="60", backgroundColor="#ffffff")]
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public class Main extends Sprite // это спрайт Флеша
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private var _starling:Starling;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public function Main():void 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (stage) init();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else addEventListener(Event.ADDED_TO_STAGE, init);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initStarling();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private function init(e:Event = null):void 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removeEventListener(Event.ADDED_TO_STAGE, init);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private function initStarling():void
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_starling = new Starling(Game, stage);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_starling.start();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
			</div>
			<br>
			<div class="BLOCK3" id="block4">Starling: Использование текстур</div>
			<div class="BLOCK3_2"><b>Загрузка текстур</b>
				<br>import flash.display.Bitmap;
				<br>import flash.utils.Dictionary;
				<br>public class Resource 
				<br>{
				<br>&nbsp;&nbsp;&nbsp;[Embed(source = '../../../images/menu.png')]
				<br>&nbsp;&nbsp;&nbsp;public static const <u>StartMenuImage</u>:Class;
				<br>&nbsp;&nbsp;&nbsp;[Embed(source = '../../../images/buttonStart.png')]
				<br>&nbsp;&nbsp;&nbsp;public static const StartButtonImage:Class;
				<br>&nbsp;&nbsp;&nbsp;[Embed(source = '../../../images/buttonExit.png')]
				<br>&nbsp;&nbsp;&nbsp;public static const ExitButtonImage:Class;
				<br>
				<br>/* Динамический сборник свойств */
				<br>&nbsp;&nbsp;&nbsp;private static var gameTextures:Dictionary = new Dictionary();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// flash.utils.Dictionary
				<br>&nbsp;&nbsp;&nbsp;public static function getTexture(_name:String):Texture&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// starling.textures.Texture
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (gameTextures[_name] == undefined)
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var bitmap:Bitmap = new Resource[_name]();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameTextures[_name] = Texture.fromBitmap(bitmap);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return gameTextures[_name];
				<br>&nbsp;&nbsp;&nbsp;}
				<br>}
				<br>
				<br><b>Наложение текстур</b>
				<br>&nbsp;&nbsp;&nbsp;private var bg:Image;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// starling.display.Image
				<br>&nbsp;&nbsp;&nbsp;bg = new Image(Resource.getTexture(<u>"StartMenuImage"</u>));
				<br>&nbsp;&nbsp;&nbsp;this.addChild(bg);
			</div>
			<br>
			<div class="BLOCK3" id="block5">Starling: Кнопка с текстурой</div>
			<div class="BLOCK3_2"><b>Наложение текстуры на кнопку и создание событий для неё.</b>
				<br>&nbsp;&nbsp;&nbsp;private var btn:Button;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// starling.display.Button
				<br>//...
				<br>&nbsp;&nbsp;&nbsp;btn = new Button(Resource.getTexture("StartButtonImage"), "Старт");
				<br>&nbsp;&nbsp;&nbsp;btn.x = 40; btn.y = 350;
				<br>&nbsp;&nbsp;&nbsp;btn.addEventListener(TouchEvent.TOUCH, onButtonStartTouch); // событие
				<br>&nbsp;&nbsp;&nbsp;this.addChild(btn);
				<br>//...
				<br>&nbsp;&nbsp;&nbsp;private function onButtonStartTouch(e:TouchEvent):void 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var touch:Touch = e.getTouch(stage);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (touch)
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (touch.phase == TouchPhase.BEGAN)
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//...	
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if (touch.phase == TouchPhase.ENDED)
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Очистка */
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.removeChild(btn);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.removeChild(bg);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Загрузка Карты */
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//...
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;}
			</div>
			<br>
			<div class="BLOCK3" id="block6">Starling: Атлас - использование текстур</div>
			<div class="BLOCK3_2"><b>Создание атласа с помошью программы ShoeBox</b>
				<br>В программе ShoeBox на закладку Sprite Sheets перенести несколько картинок (например *.png)
				<br>Нажать "Save" будет создан атлас *.png объединивший в себе все картинки и *.xml файл описания атласа.
				<br>Пример файла <a href="starling/atlas/crystals.png" target="_blank">crystal.png</a>
				<br>Пример файла <a href="starling/atlas/crystals.xml" target="_blank">crystal.xml</a>
				<br>В проекте файлы расположены в папке [images] -> [atlas]
				<br>
				<br><b>Обработка атласа</b>
				<br>import starling.textures.Texture;
				<br>import starling.textures.TextureAtlas;
				<br>public class Resource 
				<br>{
				<br>&nbsp;&nbsp;&nbsp;private static var gameTextureAtlas:TextureAtlas;
				<br>&nbsp;&nbsp;&nbsp;[Embed(source = '../../../images/atlas/crystals.png')]
				<br>&nbsp;&nbsp;&nbsp;public static const CrystalsAtlasTexture:Class;
				<br>&nbsp;&nbsp;&nbsp;[Embed(source = '../../../images/atlas/crystals.xml', mimeType = "application/octet-stream")]
				<br>&nbsp;&nbsp;&nbsp;public static const CrystalAtlasXML:Class;
				<br>/* Получить атлас */
				<br>&nbsp;&nbsp;&nbsp;public static function getAtlas():TextureAtlas
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (gameTextureAtlas == null)
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var texture:Texture = getTexture("CrystalsAtlasTexture");
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var xml:XML = XML(new CrystalAtlasXML());
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameTextureAtlas = new TextureAtlas(texture, xml);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return gameTextureAtlas;
				<br>&nbsp;&nbsp;&nbsp;}
				<br>}
				<br>
				<br><b>Получение отдельной текстуры из атласа</b>
				<br>&nbsp;&nbsp;&nbsp;var crystal_3:Image = new Image(Resource.getAtlas().getTexture("crystal_3_50_50.png"));
				<br>&nbsp;&nbsp;&nbsp;crystal_3.x = 100; crystal_3.y = 100;
				<br>&nbsp;&nbsp;&nbsp;this.addChild(crystal_3);
			</div>
			<br>
			<div class="BLOCK3" id="block7">Starling: Атлас - использование MovieClip</div>
			<div class="BLOCK3_2"><b>Воспроизведение атласа с помощью MovieClip</b>
				<br>Архив проекты StarlingMovieClip <a href="starling/StarlingMovieClip.zip">скачать</a>
				<br>файл <a href="starling/atlas/atlas.png">atlas.png</a>
				<br>файл <a href="starling/atlas/atlas.xml">atlas.xml</a>
				<br>
				<br>Исходный код примера
				<br>&nbsp;&nbsp;&nbsp;package StarlingMovieClip 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.core.Starling;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.display.MovieClip;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.display.Sprite;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.textures.Texture;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.textures.TextureAtlas;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.events.Event;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public class Game extends Sprite 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[Embed(source="../../media/atlas.xml", mimeType="application/octet-stream")]
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public static const AtlasXml:Class;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[Embed(source="../../media/atlas.png")]
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public static const AtlasTexture:Class;
				<br>		
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public function Game() 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.addEventListener(Event.ADDED_TO_STAGE, animationStarling);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private function animationStarling(e:Event):void 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removeEventListener(Event.ADDED_TO_STAGE, animationStarling);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.x = 75; this.y = 75;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Создание атласа
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var texture:Texture = Texture.fromBitmap(new AtlasTexture());
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var xml:XML = XML(new AtlasXml());
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var atlas:TextureAtlas = new TextureAtlas(texture, xml);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Создание Movie Clip
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var movie:MovieClip = new MovieClip(atlas.getTextures("starling_"), 10);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movie.loop = true; // постоянный повтор
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.addChild(movie);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Выполнение анимации
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starling.juggler.add(movie);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;}
			</div>
			<br>
			<div class="BLOCK3" id="block8">Starling: Навигация - события</div>
			<div class="BLOCK3_2">
				<br>Архив проекты Navigation <a href="starling/Navigation.zip">скачать</a>
				<br><b>Main.as - Инициализация Старлинга.</b>
				<br>&nbsp;&nbsp;&nbsp;private var _starling:Starling;
				<br>&nbsp;&nbsp;&nbsp;//..
				<br>&nbsp;&nbsp;&nbsp;_starling = new Starling(Game, stage);
				<br>&nbsp;&nbsp;&nbsp;_starling.start();
				<br>
				<br><b>Game.as - Корневой спрайт для отображения в себе всех дочерних спрайтов.</b>
				<br>package Navigation
				<br>{
				<br>&nbsp;&nbsp;&nbsp;import starling.display.Sprite;
				<br>&nbsp;&nbsp;&nbsp;import starling.events.Event; 
				<br>
				<br>&nbsp;&nbsp;&nbsp;public class Game extends Sprite
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private var menu:Menu;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private var level:Level;
				<br>	
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public function Game() 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.addEventListener(Event.ADDED_TO_STAGE, initGame); 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>					
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private function initGame(e:Event):void 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;removeEventListener(Event.ADDED_TO_STAGE, initGame);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<u>this.addEventListener(NavigationEvent.CHANGE_SCREEN, onChangeScreen);</u>
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menu = new Menu();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.addChild(menu);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>	
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private function onChangeScreen(e:NavigationEvent):void 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(e.param.id)
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case "play":
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;level = new Level();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.addChild(level);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.removeChild(menu);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case "back":
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menu = new Menu();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.addChild(menu);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.removeChild(level);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;}
				<br>}
				<br>
				<br><b>NavigationEvent.as - Общее событие навигации для всех дочерних спрайтов.</b>
				<br>&nbsp;&nbsp;&nbsp;package Navigation 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import starling.events.Event;
				<br>
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public class NavigationEvent extends Event 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public static const CHANGE_SCREEN:String = "changeScreen";
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public var param:Object;
				<br>	
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public function NavigationEvent(type:String, _params:Object=null, bubbles:Boolean=false) 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(type, bubbles);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.param = _params;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
				<br><b>Menu.as - Дочерний спрайт возвращающий событие нажатой кнопки "Играть".</b>
				<br>&nbsp;&nbsp;&nbsp;//..
				<br>&nbsp;&nbsp;&nbsp;private var btn:Button;
				<br>&nbsp;&nbsp;&nbsp;//..
				<br>&nbsp;&nbsp;&nbsp;this.addEventListener(Event.TRIGGERED, onClick);
				<br>&nbsp;&nbsp;&nbsp;//..
				<br>&nbsp;&nbsp;&nbsp;private function onClick(e:Event):void 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ((e.target as Button) == btn)
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<u>this.dispatchEvent(new NavigationEvent(NavigationEvent.CHANGE_SCREEN, { id: "play" }, true));</u>
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
				<br><b>Menu.as - Дочерний спрайт возвращающий событие нажатой кнопки "Выход".</b>
				<br>&nbsp;&nbsp;&nbsp;//..
				<br>&nbsp;&nbsp;&nbsp;private var btn:Button;
				<br>&nbsp;&nbsp;&nbsp;//..
				<br>&nbsp;&nbsp;&nbsp;this.addEventListener(Event.TRIGGERED, onClick);
				<br>&nbsp;&nbsp;&nbsp;//..
				<br>&nbsp;&nbsp;&nbsp;private function onClick(e:Event):void 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ((e.target as Button) == btn)
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<u>this.dispatchEvent(new NavigationEvent(NavigationEvent.CHANGE_SCREEN, { id: "back" }, true));</u>
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
				<br>&nbsp;&nbsp;&nbsp;}
			</div>
			<br>
			<div class="BLOCK3" id="block9">Starling: Загрузка ресурсов</div>
			<div class="BLOCK3_2"><b>Файл Main.as загружаем ресурсы, а потом инициализируем Старлинг</b>
				<br>&nbsp;&nbsp;&nbsp;private var _loadResource:LoadResource;
				<br>&nbsp;&nbsp;&nbsp;private var _starling:Starling;
				<br>&nbsp;&nbsp;&nbsp;//...
				<br>&nbsp;&nbsp;&nbsp;_loadResource = new LoadResource();
				<br>&nbsp;&nbsp;&nbsp;_loadResource.addEventListener(Event.CLEAR, onLoadComplete);
				<br>&nbsp;&nbsp;&nbsp;this.addChild(_loadResource);
				<br>&nbsp;&nbsp;&nbsp;//...
				<br>&nbsp;&nbsp;&nbsp;private function onLoadComplete(e:Event):void 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.removeChild(_loadResource);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initStarling(); // инициализация Старлинг
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
				<br><b>Файл LoadResource.as выполняющий непосредственно загрузку данных с сервера</b>
				<br>&nbsp;&nbsp;&nbsp;[Embed(source = '../../../media/textures/progress.png')]
				<br>&nbsp;&nbsp;&nbsp;private var ProcessImage:Class;
				<br>&nbsp;&nbsp;&nbsp;private var progressBar:Bitmap = new ProcessImage();
				<br>&nbsp;&nbsp;&nbsp;private var loader:Loader;
				<br>&nbsp;&nbsp;&nbsp;private var urlReq:URLRequest;
				<br>&nbsp;&nbsp;&nbsp;//...
				<br>&nbsp;&nbsp;&nbsp;progressBar.x = 300; progressBar.y = 300;
				<br>&nbsp;&nbsp;&nbsp;progressBar.width = 0;
				<br>&nbsp;&nbsp;&nbsp;this.addChild(progressBar);
				<br>&nbsp;&nbsp;&nbsp;//...
				<br>&nbsp;&nbsp;&nbsp;loader = new Loader();
				<br>&nbsp;&nbsp;&nbsp;urlReq = new URLRequest("http://cf.ltd.ua/games/Crystal2/media/textures/map_1.jpg");
				<br>&nbsp;&nbsp;&nbsp;loader.load(urlReq);
				<br>&nbsp;&nbsp;&nbsp;loader.contentLoaderInfo.addEventListener(Event.COMPLETE, completePercent100);
				<br>
				<br>&nbsp;&nbsp;&nbsp;private function completePercent100(e:Event):void 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loader.contentLoaderInfo.removeEventListener(Event.COMPLETE, completePercent100);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;progressBar.width += 200;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;progressText.text = "Загрузка 100%";
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resource.AtlasGameBitmap = new Bitmap();
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resource.AtlasGameBitmap = (e.target.content as Bitmap);
				<br>
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dispatchEvent(new Event(Event.CLEAR));
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
				<br><b>Обращение к загруженному битмапу</b>
				<br>&nbsp;&nbsp;&nbsp;private var panelImage:Image;
				<br>&nbsp;&nbsp;&nbsp;private var mapImage:Image;
				<br>&nbsp;&nbsp;&nbsp;//...
				<br>&nbsp;&nbsp;&nbsp;mapImage = new Image(Texture.fromBitmap(Resource.MapBitmap));
				<br>&nbsp;&nbsp;&nbsp;this.addChild(mapImage);
				<br>&nbsp;&nbsp;&nbsp;//...
				<br>&nbsp;&nbsp;&nbsp;var xml:XML = XML(new Resource.AtlasGameXML());
				<br>&nbsp;&nbsp;&nbsp;var atlas:TextureAtlas = new TextureAtlas(Texture.fromBitmap(Resource.AtlasGameBitmap), xml);
				<br>&nbsp;&nbsp;&nbsp;panelImage = new Image(atlas.getTexture("panel.png"));
				<br>&nbsp;&nbsp;&nbsp;this.addChild(panelImage);
			</div>
			<br>
			<div class="BLOCK3" id="block10">Starling: Загрузка и чтение XML файлов</div>
			<div class="BLOCK3_2"><b>Загрузка XML файла с данными</b>
				<br>&nbsp;&nbsp;&nbsp;import flash.net.*;
				<br>&nbsp;&nbsp;&nbsp;import flash.events.*; 
				<br>&nbsp;&nbsp;&nbsp;var loader:URLLoader = new URLLoader(); 
				<br>&nbsp;&nbsp;&nbsp;loader.load(new URLRequest("myxml.xml")); 
				<br>&nbsp;&nbsp;&nbsp;loader.addEventListener(Event.COMPLETE,onComplete); 
				<br>&nbsp;&nbsp;&nbsp;loader.addEventListener(SecurityErrorEvent.SECURITY_ERROR,securityError); 
				<br>&nbsp;&nbsp;&nbsp;loader.addEventListener(IOErrorEvent.IO_ERROR,ioError); 
				<br>&nbsp;&nbsp;&nbsp;function onComplete(event:Event):void 
				<br>&nbsp;&nbsp;&nbsp;{ 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trace(event.target.data) 
				<br>&nbsp;&nbsp;&nbsp;} 
				<br>&nbsp;&nbsp;&nbsp;function securityError(event:SecurityErrorEvent):void 
				<br>&nbsp;&nbsp;&nbsp;{ 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trace("SecurityErrorEvent"); 
				<br>&nbsp;&nbsp;&nbsp;} 
				<br>&nbsp;&nbsp;&nbsp;function ioError(event:IOErrorEvent):void 
				<br>&nbsp;&nbsp;&nbsp;{ 
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trace("IOErrorEvent"); 
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
				<br><b>Получение данных из XML файла</b>
				<br>&nbsp;&nbsp;&nbsp;function onComplete(event:Event):void 
				<br>&nbsp;&nbsp;&nbsp;{ 
				<br>&nbsp;&nbsp;&nbsp;var myxml:XML = XML(event.target.data); 
				<br>&nbsp;&nbsp;&nbsp;trace(myxml.mywidth.text());  // mywidth - это тег в xml файле
				<br>&nbsp;&nbsp;&nbsp;trace(myxml.myheight.text()); // myheight - это тег в xml файле
				<br>&nbsp;&nbsp;&nbsp;trace(myxml.mycolor.text());  // mycolor - это тег в xml файле
				<br>&nbsp;&nbsp;&nbsp;trace(myxml.mytext.text());   // mytext - это тег в xml файле
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
				<br><b>Определяем тип получаемых данных из XML файла</b>
				<br>&nbsp;&nbsp;&nbsp;function onComplete(event:Event):void 
				<br>&nbsp;&nbsp;&nbsp;{ 
				<br>&nbsp;&nbsp;&nbsp;var myxml:XML = XML(event.target.data); 
				<br>&nbsp;&nbsp;&nbsp;var mywidth:uint = parseInt(myxml.mywidth.text(),10); 
				<br>&nbsp;&nbsp;&nbsp;var myheight:uint = parseInt(myxml.myheight.text(),10); 
				<br>&nbsp;&nbsp;&nbsp;var mycolor:uint = parseInt(myxml.mycolor.text(),16); 
				<br>&nbsp;&nbsp;&nbsp;var mytext:String = myxml.mytext.text(); 
				<br>&nbsp;&nbsp;&nbsp;}
			</div>
			<br>
			<div class="BLOCK3" id="block11">Starling: Настройка контента</div>
			<div class="BLOCK3_2"><b>Настройка контентк для предотвращения его потери</b>
				<br>&nbsp;&nbsp;&nbsp;private var _starling:Starling;
				<br>&nbsp;&nbsp;&nbsp;private function initStarling():void 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stage.align = StageAlign.TOP_LEFT;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stage.scaleMode = StageScaleMode.NO_SCALE;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stage.addEventListener (Event.RESIZE, resizeListenerFlash);
				<br>
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_starling = new Starling(Game, stage);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_starling.antiAliasing = 1;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_starling.start();
				<br>&nbsp;&nbsp;&nbsp;}
				<br>
				<br>&nbsp;&nbsp;&nbsp;private function resizeListenerFlash(e:Event):void 
				<br>&nbsp;&nbsp;&nbsp;{
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starling.current.viewPort = new Rectangle (0, 0, stage.stageWidth, stage.stageHeight);
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_starling.stage.stageWidth = 800;
				<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_starling.stage.stageHeight = 600;
				<br>&nbsp;&nbsp;&nbsp;}
			</div>
			<br>
			<div class="BLOCK3" id="block1">Starling: </div>
			<div class="BLOCK3_2"><b></b>
				<br>
			</div>
			<br>
			<div class="BLOCK3" id="block1">Starling: </div>
			<div class="BLOCK3_2"><b></b>
				<br>
			</div>
			<br>
			<div class="BLOCK3" id="block1">Starling: </div>
			<div class="BLOCK3_2"><b></b>
				<br>
			</div>
			<br>
			<div class="BLOCK3" id="block1">Starling: </div>
			<div class="BLOCK3_2"><b></b>
				<br>
			</div>
			<br>
			<div class="BLOCK3" id="block1">Starling: </div>
			<div class="BLOCK3_2"><b></b>
				<br>
			</div>
			<br>
			<div class="BLOCK3" id="block1">Starling: </div>
			<div class="BLOCK3_2"><b></b>
				<br>
			</div>
			
			<div id="footer">
				<div>(c) Somov Evgeniy. Copyright 2014.  All rights reserved.</div>
			</div>
		</div>
		
	</body>
</html>